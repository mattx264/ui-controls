!function(){"use strict";function t(t){return{restrict:"E",replace:!0,require:"ngModel",scope:{ngModel:"=",name:"@"},templateUrl:"src/dateInput/dateInput.html",compile:function(e,i,n){return{post:function(e,i,n,d){e.jumpToNextField=!1,e.isSelected=!1,e.Error=[],e.dateinput1=e.dateinput3=e.dateinput2="",e.idOfElement=Math.floor(1e6*Math.random()),i.attr("id",e.idOfElement);var a=/[^0-9]/g,u=e.$watch("ngModel",function(t){if(null!=t){if(null!=e.ngModel){var i=e.ngModel.split("/");e.dateinput1=i[0],e.dateinput2=i[1],e.dateinput3=i[2]}u()}});i.bind("keyup",function(t){9===t.keyCode&&(1==e.dateinput1.length&&e.$apply(function(){e.dateinput1="0"+e.dateinput1}),1==e.dateinput2.length&&e.$apply(function(){e.dateinput2="0"+e.dateinput2}))}),e.dateinput1Change=function(t){void 0==t&&(t=$("#"+e.idOfElement+" .dateinput1").val()),e.dateinput1=t=t.replace(a,"");var i=t.length;2==i?$("#"+e.idOfElement+" .dateinput2").select():i>3&&(e.dateinput1=Number(e.dateinput1.toString().substring(0,2)),e.updateModel(),$("#"+e.idOfElement+" .dateinput2").select()),e.updateModel()},e.dateinput2Change=function(t){void 0==t&&(t=$("#"+e.idOfElement+" .dateinput2").val()),e.dateinput2=t=t.replace(a,"");var i=t.length;2==i?$("#"+e.idOfElement+" .dateinput3").select():i>3&&(e.dateinput2=Number(e.dateinput2.toString().substring(0,2)),e.updateModel(),$("#"+e.idOfElement+" .dateinput3").select()),e.updateModel()},e.dateinput3Change=function(t){void 0==t&&(t=$("#"+e.idOfElement+" .dateinput3").val()),e.dateinput3=t=t.replace(a,"");var i=t.length;i>4&&(e.dateinput3=Number(e.dateinput3.toString().substring(0,4)),e.updateModel()),e.updateModel()},e.updateModel=function(){e.ngModelDate=new Date(e.dateinput3,e.dateinput1-1,e.dateinput2),e.ngModel=e.dateinput1+"/"+e.dateinput2+"/"+e.dateinput3},e.validation=function(){if(d.$setValidity("invalid",!0),d.$setValidity("required",!0),d.$error={other:null},null==e.dateinput3||null==e.dateinput2||null==e.dateinput1)return void d.$setValidity("required",!1);if((e.dateinput1>12||e.dateinput1<1)&&(e.dateinput2>31||e.dateinput2<1)&&(e.dateinput3.toString().length<4||e.dateinput3<1900))return d.$error={other:"Date is invalid."},void d.$setValidity("invalid",!1);if((e.dateinput1>12||e.dateinput1<1)&&(e.dateinput2>31||e.dateinput2<1))return d.$error={other:"Month and Day is invalid."},void d.$setValidity("invalid",!1);if((e.dateinput3.toString().length<4||e.dateinput3<1900)&&(e.dateinput2>31||e.dateinput2<1))return d.$error={other:"Day and Year is invalid."},void d.$setValidity("invalid",!1);if((e.dateinput1>12||e.dateinput1<1)&&(e.dateinput3.toString().length<4||e.dateinput3<1900))return d.$error={other:"Month and Year is invalid."},void d.$setValidity("invalid",!1);if(e.dateinput3.toString().length<4)return d.$error={other:"Year is invalid."},void d.$setValidity("invalid",!1);if(e.dateinput1>12||e.dateinput1<1)return d.$error={other:"Month is invalid (1-12)"},void d.$setValidity("invalid",!1);if(e.dateinput2>31||e.dateinput2<1)return d.$error={other:"Day is invalid (1-31)"},void d.$setValidity("invalid",!1);if(e.dateinput3<1900)return d.$error={other:"Year is invalid."},void d.$setValidity("invalid",!1);if("true"==n.checkfuturedate){var t=new Date;if(t<e.ngModelDate){if(t.getFullYear()<e.ngModelDate.getFullYear())return void d.$setValidity("futuredateValidation",!1);if(t.getMonth()<e.ngModelDate.getMonth())return void d.$setValidity("futuredateValidation",!1);if(t.getDate()<e.ngModelDate.getDate())return void d.$setValidity("futuredateValidation",!1);d.$setValidity("futuredateValidation",!0)}}if("true"==n.fifteenyearsvalidation){var i=new Date(e.ngModelDate.getFullYear()+16,e.ngModelDate.getMonth(),e.ngModelDate.getDate()),a=new Date;if(i>a)return void d.$setValidity("fifteenyearsvalidationMessage",!1);d.$setValidity("fifteenyearsvalidationMessage",!0)}},e.$watch(function(t){return t.focus},function(t){1==t&&0==e.jumpToNextField?e.isSelected=!0:0==t&&0==e.jumpToNextField&&(e.isSelected=!1)}),e.$watch(function(t){return t.blur},function(i){return 1==e.jumpToNextField?void(e.jumpToNextField=!1):(1==e.dateinput1.length&&(e.dateinput1="0"+e.dateinput1,e.updateModel()),1==e.dateinput2.length&&(e.dateinput2="0"+e.dateinput2,e.updateModel()),void t(function(){1==i&&0==e.isSelected&&(e.isSelected=!1,d.$touched=!0,null!=n.required&&e.validation())},100))}),d.$parsers.unshift(function(t){return e.pwdLength=4==e.date1.toString().length,1==e.pwdLengt?(ctrcontrollerl.$setValidity("required",!0),t):void d.$setValidity("required",!1)})}}}}}angular.module("ui.controls").directive("dateInput",["$timeout",t])}();